:root {
  /* Natural Kawaii Color Palette - Soft & Muted */
  --color-cream: #fffef9;
  --color-cream-dark: #faf9f4;
  --color-peach-soft: #ffe8dc;
  --color-peach-muted: #ffd4c0;
  --color-gray-blue: #e8eef5;
  --color-gray-blue-dark: #d4dce8;
  --color-lavender-soft: #f0ebf7;
  --color-mint-soft: #e8f5f0;
  
  /* Text colors - Warm and soft, not harsh black */
  --color-text-primary: #4a4845;
  --color-text-secondary: #8a8682;
  --color-text-muted: #b5b2ad;
  
  /* Backgrounds */
  --color-bg-primary: #fffcf7;
  --color-bg-surface: #ffffff;
  --color-bg-elevated: #fffef9;
  
  /* Accent colors - Subtle and warm */
  --color-accent-peach: #ffb8a0;
  --color-accent-blue: #a8c7e7;
  --color-accent-lavender: #d4c5e8;
  --color-accent-mint: #a8d5c3;
  
  /* Border colors - Very soft */
  --color-border-light: #f0ede8;
  --color-border-medium: #e5e1db;
  --color-border-dark: #d4cfc7;
  
  /* Semantic Colors - Natural and muted */
  --color-primary: var(--color-peach-soft);
  --color-success: var(--color-mint-soft);
  --color-warning: var(--color-peach-muted);
  --color-info: var(--color-gray-blue);
  --color-info-dark: #475c75;
  --color-success-dark: #3d6b54;
  --color-warning-dark: #8a5a3d;
  --color-danger: #f87171;
  --color-danger-light: #fff5f5;
  --color-danger-dark: #a03838;

  /* OKLCH variants and text-on-<bg> helpers to ensure accessible contrast
    OKLCH values are approximations chosen to preserve the visual design
    while increasing perceptual contrast where necessary. They will be used
    where we want perceptually even color lifts or contrast-aware text. */
  /* Text-on helpers fallback for browsers without OKLCH support */
  --text-on-accent-peach: #4a3e33; /* darker text for peach backgrounds */
  --text-on-success: #1f442f; /* darker text for mint */
  --text-on-warning: #4a3526; /* darker text for warm warning */
  --text-on-danger: #5e1414; /* darker text for danger */
  
  /* Layout - More rounded for kawaii feel */
  --radius: 12px;
  --radius-lg: 20px;
  --radius-xl: 28px;
  --shadow-soft: 0 2px 8px rgba(106, 100, 92, 0.06);
  --shadow-medium: 0 4px 16px rgba(106, 100, 92, 0.08);
  --shadow-hover: 0 8px 24px rgba(106, 100, 92, 0.12);
  --border: 1px solid var(--color-border-light);
  --transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  
  /* Legacy color mappings for compatibility */
  --color-black: var(--color-text-primary);
  --color-white: var(--color-bg-surface);
  --color-gray-50: #faf9f6;
  --color-gray-100: #f5f3ef;
  --color-gray-200: #e5e1db;
  --color-gray-300: #d4cfc7;
  --color-gray-400: #b5b2ad;
  --color-gray-500: #8a8682;
  --color-gray-600: #6a645c;
  --color-gray-700: #4a4845;
  --color-gray-800: #35322f;
  --color-gray-900: #1f1d1b;
  --color-pink: var(--color-peach-soft);
  --color-pink-light: #fff5f0;
  --color-blue: var(--color-gray-blue);
  --color-blue-light: #f5f8fc;
  --color-mint: var(--color-mint-soft);
  --color-mint-light: #f5faf8;
  --color-peach: var(--color-peach-muted);
  --color-peach-light: #fff0e8;
  --color-lavender: var(--color-lavender-soft);
  --color-lavender-light: #f8f5fc;
}

/* If the browser understands OKLCH, override existing tokens with perceptual colors.
   These are tuned to keep the same aesthetic while improving contrast where needed.
   We leave the non-oklch variables in place as fallbacks. */
@supports (color: oklch(0.5 0.01 100)) {
  :root {
    --color-cream: oklch(0.98 0.01 110);
    --color-cream-dark: oklch(0.96 0.01 110);
    --color-peach-soft: oklch(0.95 0.06 33);
    --color-peach-muted: oklch(0.90 0.06 33);
    --color-gray-blue: oklch(0.93 0.02 220);
    --color-gray-blue-dark: oklch(0.86 0.02 216);
    --color-lavender-soft: oklch(0.96 0.04 280);
    --color-mint-soft: oklch(0.78 0.08 150);

    --color-text-primary: oklch(0.26 0.02 40);
    --color-text-secondary: oklch(0.42 0.01 40);
    --color-text-muted: oklch(0.65 0.01 40);

    --color-bg-primary: oklch(0.99 0.01 110);
    --color-bg-surface: oklch(1 0 0);
    --color-bg-elevated: oklch(0.98 0.01 110);

    --color-accent-peach: oklch(0.82 0.09 30);
    --color-accent-blue: oklch(0.86 0.03 220);
    --color-accent-lavender: oklch(0.88 0.04 280);
    --color-accent-mint: oklch(0.79 0.085 145);

    --color-border-light: oklch(0.95 0.01 100);
    --color-border-medium: oklch(0.90 0.01 100);
    --color-border-dark: oklch(0.82 0.01 100);

    --color-primary: var(--color-peach-soft);
    --color-success: var(--color-mint-soft);
    --color-warning: var(--color-peach-muted);
    --color-info: var(--color-gray-blue);

    --color-danger: oklch(0.65 0.12 30);
    --color-danger-light: oklch(0.95 0.03 30);

    /* darker text overrides for text-on-* helpers to maintain readable contrast */
    --text-on-accent-peach: oklch(0.14 0 0);
    --text-on-success: oklch(0.12 0 0);
    --text-on-warning: oklch(0.14 0 0);
    --text-on-danger: oklch(0.12 0 0);

    /* Info dark */
    --color-info-dark: oklch(0.30 0.02 220);
    --color-success-dark: oklch(0.22 0.02 145);
    --color-warning-dark: oklch(0.34 0.03 30);
  }
}

/* Global layout / background */
html {
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: var(--color-bg-primary);
  color: var(--color-text-primary);
}

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif;
  background: transparent;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;
}

/* Focus states - Soft and warm */
button:focus-visible,
a:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2px solid var(--color-accent-peach);
  outline-offset: 2px;
}

/* Card - Softer with gentle shadow */
.card {
  background: var(--color-bg-surface);
  border-radius: var(--radius-lg);
  border: var(--border);
  padding: 1.5rem;
  box-shadow: var(--shadow-soft);
}

.card.sm {
  padding: 0.5rem;
  border-radius: calc(var(--radius) - 4px);
}

/* Small inline chip used for code or tags â€” softer than gray */
.code-chip {
  background: var(--color-cream);
  color: var(--color-text-secondary);
  padding: 0.125rem 0.5rem;
  border-radius: calc(var(--radius) / 1.5);
  border: var(--border);
  font-size: 0.812rem;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', 'Segoe UI Mono', monospace;
}

/* Button - Rounded and gentle */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: var(--color-bg-surface);
  color: var(--color-text-primary);
  border-radius: var(--radius);
  border: var(--border);
  cursor: pointer;
  transition: var(--transition);
  font-weight: 500;
  font-size: 0.875rem;
  line-height: 1.25rem;
  box-shadow: var(--shadow-soft);
}

.btn:hover {
  background: var(--color-cream);
  border-color: var(--color-border-medium);
  transform: translateY(-1px);
  box-shadow: var(--shadow-medium);
}

.btn:active {
  transform: translateY(0);
  box-shadow: var(--shadow-soft);
}

.btn.primary {
  background: var(--color-accent-peach);
  color: var(--color-text-primary);
  border-color: var(--color-peach-muted);
}

.btn.primary:hover {
  background: var(--color-peach-muted);
  border-color: var(--color-peach-muted);
}

.btn.accent {
  background: var(--color-primary);
  color: var(--color-text-primary);
  border-color: var(--color-primary);
}

.btn.accent:hover {
  opacity: 0.9;
}

.btn.success {
  background: var(--color-success);
  color: var(--color-text-primary);
  border-color: var(--color-mint-soft);
}

.btn.danger {
  background: var(--color-danger-light); /* subtle red */
  color: var(--color-danger-dark);
  border-color: var(--color-danger);
}

.btn.selected {
  background: var(--color-gray-800);
  color: var(--color-white);
  border-color: var(--color-gray-800);
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
  box-shadow: var(--shadow-soft);
}

.btn:disabled:hover {
  transform: none;
  box-shadow: var(--shadow-soft);
}

/* Input - Soft and rounded */
.input {
  background: var(--color-bg-surface);
  border: var(--border);
  padding: 0.75rem 1rem;
  border-radius: var(--radius);
  transition: var(--transition);
  font-size: 0.875rem;
  font-family: inherit;
  width: 100%;
  color: var(--color-text-primary);
  box-shadow: var(--shadow-soft);
}

.input:hover {
  border-color: var(--color-border-medium);
  box-shadow: var(--shadow-medium);
}

.input:focus {
  border-color: var(--color-accent-peach);
  outline: none;
  box-shadow: 0 0 0 3px rgba(255, 184, 160, 0.1);
}

.input::placeholder {
  color: var(--color-text-muted);
}

/* Mobile-friendly adjustments */
@media (max-width: 1023px) {
  textarea.input {
    min-height: 220px; /* make editing easier on phones */
    padding: 1rem; /* larger touch target */
    font-size: 1rem;
  }

  /* Larger list item hit areas on mobile */
  .translation-list-item {
    padding: 1rem !important;
    font-size: 1rem;
  }

  /* Minor style tweak for overlay width on very small screens */
  .lg\:hidden.w-\[95\%\] {
    width: 95% !important;
  }
}

/* Label */
.label {
  display: block;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-text-primary);
  margin-bottom: 0.5rem;
}

/* Badge - Softer with more rounding */
.badge {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.375rem 0.75rem;
  border-radius: var(--radius-xl);
  background: var(--color-gray-blue);
  border: var(--border);
  color: var(--color-text-primary);
  font-size: 0.75rem;
  font-weight: 500;
}

.badge.primary {
  background: var(--color-pink-light);
  border-color: var(--color-peach-soft);
  color: var(--color-text-primary);
}

.badge.success {
  background: var(--color-mint-light);
  border-color: var(--color-mint-soft);
  color: var(--color-text-primary);
}

.badge.warning {
  background: var(--color-peach-light);
  border-color: var(--color-peach-muted);
  color: var(--color-text-primary);
}

.badge.info {
  background: var(--color-blue-light);
  border-color: var(--color-gray-blue);
  color: var(--color-text-primary);
}

/* Keep existing accessibility helpers intact */
button,
[role="button"],
.cursor-pointer {
  user-select: none;
  -webkit-user-select: none;
  -webkit-tap-highlight-color: transparent;
}

button,
[role="button"],
a {
  touch-action: manipulation;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

.animate-slide-up {
  animation: slideUp 0.3s ease-out;
}

.animate-slide-down {
  animation: slideDown 0.3s ease-out;
}

/* Empty state - More delicate */
.empty-state {
  text-align: center;
  padding: 3rem 1.5rem;
}

.empty-state .icon {
  width: 5rem;
  height: 5rem;
  margin: 0 auto 1rem;
  background: linear-gradient(135deg, var(--color-peach-soft) 0%, var(--color-lavender-soft) 100%);
  border: var(--border);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: var(--shadow-soft);
}

.empty-state .icon svg {
  width: 2.5rem;
  height: 2.5rem;
  color: var(--color-text-secondary);
}

.empty-state .title {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text-primary);
  margin-bottom: 0.5rem;
}

.empty-state .description {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  margin-bottom: 1.5rem;
}

/* Message boxes - Softer colors */
.message {
  padding: 1rem 1.25rem;
  border-radius: var(--radius);
  font-size: 0.875rem;
  border: var(--border);
}

.message.error {
  background: var(--color-danger-light);
  border-color: #ffc9c9;
  color: var(--color-danger-dark);
}

.message.success {
  background: var(--color-mint-light);
  border-color: var(--color-mint-soft);
  color: var(--color-success-dark);
}

.message.info {
  background: var(--color-blue-light);
  border-color: var(--color-gray-blue);
  color: var(--color-info-dark);
}

.message.warning {
  background: var(--color-peach-light);
  border-color: var(--color-peach-muted);
  color: var(--color-warning-dark);
}

/* Page layout */
.page {
  min-height: 100vh;
  background: var(--color-bg-primary);
}

.container {
  max-width: 80rem;
  margin: 0 auto;
  padding: 1.5rem;
}

/* Utility transitions */
.transition-all {
  transition: var(--transition);
}

/* Hover lift effect - Gentler */
.hover-lift:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-hover);
}

.hover-lift:active {
  transform: translateY(-2px);
  box-shadow: var(--shadow-medium);
}

/* Kawaii utilities */
.kawaii-panel {
  background: linear-gradient(180deg, var(--color-bg-surface), var(--color-bg-elevated));
  border-radius: var(--radius-lg);
  border: var(--border);
  box-shadow: var(--shadow-medium);
  overflow: hidden;
}

.kawaii-ghost {
  background: transparent;
  border: 1px dashed transparent;
  color: var(--color-text-secondary);
  padding: 0.375rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: calc(var(--radius) - 4px);
}

.kawaii-header {
  background: rgba(255,255,255,0.6);
  backdrop-filter: blur(4px);
  border-bottom: var(--border);
}

/* Action status colors (subtle and warm) */
.action-submitted { color: var(--color-accent-blue); }
.action-approved { color: var(--color-success); }
.action-committed { color: var(--color-lavender); }
.action-rejected { color: #e79a9a; }
.action-deleted { color: var(--color-text-muted); }

/* Small playful icon helper */
.kawaii-icon {
  width: 1.25rem;
  height: 1.25rem;
  border-radius: 8px;
  background: var(--color-cream);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 0.85rem;
}

.kawaii-icon:hover {
  transform: translateY(-2px) scale(1.05);
  box-shadow: var(--shadow-medium);
}

/* Timeline dot helper for lists */
.timeline-dot {
  width: 0.75rem;
  height: 0.75rem;
  border-radius: 999px;
  background: var(--color-accent-blue);
  border: 2px solid var(--color-white);
  box-shadow: 0 1px 2px rgba(0,0,0,0.02);
}