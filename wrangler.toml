name = "koro"
main = "src/workers.ts"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat_v2"]

# Serve frontend static files
[assets]
directory = "dist/frontend"
binding = "ASSETS"

[vars]
ENVIRONMENT = "production"
PLATFORM_URL = "https://koro.f3liz.workers.dev"
# Comma-separated list of GitHub usernames allowed to create projects
# Leave empty to allow all users
ALLOWED_PROJECT_CREATORS = "nyanrus"

# Rust Compute Worker URL (optional but recommended for performance)
# Deploy rust-worker first, then set this to the deployed worker URL
# Example: "https://koro-compute-worker.your-account.workers.dev"
# When configured, CPU-intensive operations are offloaded to Rust worker
# COMPUTE_WORKER_URL = "https://koro-compute-worker.your-account.workers.dev"

# D1 Database Configuration
[[d1_databases]]
binding = "DB"
database_name = "koro-i18n-db"
database_id = "bed11b2a-88f2-4a83-b0f3-f77ab3ca1050"

# R2 Bucket Configuration (for GitHub imports)
[[r2_buckets]]
binding = "TRANSLATION_BUCKET"
bucket_name = "koro-i18n-bucket"

# # Development Environment
# [env.development]
# name = "i18n-platform-dev"
# [env.development.vars]
# ENVIRONMENT = "development"
# PLATFORM_URL = "http://localhost:8787"

# [[env.development.d1_databases]]
# binding = "DB"
# database_name = "i18n-platform-db-dev"
# database_id = "REPLACE_WITH_YOUR_DEV_DATABASE_ID"